/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/jspack@0.0.4/jspack.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*!
 *  Copyright Â© 2008 Fair Oaks Labs, Inc.
 *  All rights reserved.
 */
function JSPack(){var n,e=!1,t=this;t._DeArray=function(n,e,t){return[n.slice(e,e+t)]},t._EnArray=function(n,e,t,a){for(var r=0;r<t;n[e+r]=a[r]?a[r]:0,r++);},t._DeChar=function(n,e){return String.fromCharCode(n[e])},t._EnChar=function(n,e,t){n[e]=t.charCodeAt(0)},t._DeInt=function(t,a){var r,c,i,s=e?n.len-1:0,o=e?-1:1,h=s+o*n.len;for(r=0,c=s,i=1;c!=h;r+=t[a+c]*i,c+=o,i*=256);return n.bSigned&&r&Math.pow(2,8*n.len-1)&&(r-=Math.pow(2,8*n.len)),r},t._EnInt=function(t,a,r){var c,i=e?n.len-1:0,s=e?-1:1,o=i+s*n.len;for(r=r<n.min?n.min:r>n.max?n.max:r,c=i;c!=o;t[a+c]=255&r,c+=s,r>>=8);},t._DeString=function(n,e,t){for(var a=new Array(t),r=0;r<t;a[r]=String.fromCharCode(n[e+r]),r++);return a.join("")},t._EnString=function(n,e,t,a){for(var r,c=0;c<t;n[e+c]=(r=a.charCodeAt(c))?r:0,c++);},t._De754=function(t,a){var r,c,i,s,o,h,_,l,u,f;for(_=n.mLen,u=(f=(1<<(l=8*n.len-n.mLen-1))-1)>>1,s=e?0:n.len-1,o=e?1:-1,r=t[a+s],s+=o,c=r&(1<<-(h=-7))-1,r>>=-h,h+=l;h>0;c=256*c+t[a+s],s+=o,h-=8);for(i=c&(1<<-h)-1,c>>=-h,h+=_;h>0;i=256*i+t[a+s],s+=o,h-=8);switch(c){case 0:c=1-u;break;case f:return i?NaN:1/0*(r?-1:1);default:i+=Math.pow(2,_),c-=u}return(r?-1:1)*i*Math.pow(2,c-_)},t._En754=function(t,a,r){var c,i,s,o,h,_,l,u,f,p;for(l=n.mLen,f=(p=(1<<(u=8*n.len-n.mLen-1))-1)>>1,c=r<0?1:0,r=Math.abs(r),isNaN(r)||r==1/0?(s=isNaN(r)?1:0,i=p):(i=Math.floor(Math.log(r)/Math.LN2),r*(_=Math.pow(2,-i))<1&&(i--,_*=2),(r+=i+f>=1?n.rt/_:n.rt*Math.pow(2,1-f))*_>=2&&(i++,_/=2),i+f>=p?(s=0,i=p):i+f>=1?(s=(r*_-1)*Math.pow(2,l),i+=f):(s=r*Math.pow(2,f-1)*Math.pow(2,l),i=0)),o=e?n.len-1:0,h=e?-1:1;l>=8;t[a+o]=255&s,o+=h,s/=256,l-=8);for(i=i<<l|s,u+=l;u>0;t[a+o]=255&i,o+=h,i/=256,u-=8);t[a+o-h]|=128*c},t._DeInt64=function(t,a){var r,c,i,s=e?0:7,o=e?1:-1,h=s+8*o,_=[0,0,!n.bSigned];for(r=s,i=1,c=0;r!=h;_[i]=(_[i]<<8>>>0)+t[a+r],r+=o,i=++c<4?1:0);return _},t._EnInt64=function(n,t,a){var r,c,i,s,o=e?0:7,h=e?1:-1,_=o+8*h;for(r=o,i=1,c=0,s=24;r!=_;n[t+r]=a[i]>>s&255,r+=h,i=++c<4?1:0,s=24-c%4*8);},t._sPattern="(\\d+)?([AxcbBhHsfdiIlLqQ])",t._lenLut={A:1,x:1,c:1,b:1,B:1,h:2,H:2,s:1,f:4,d:8,i:4,I:4,l:4,L:4,q:8,Q:8},t._elLut={A:{en:t._EnArray,de:t._DeArray},s:{en:t._EnString,de:t._DeString},c:{en:t._EnChar,de:t._DeChar},b:{en:t._EnInt,de:t._DeInt,len:1,bSigned:!0,min:-Math.pow(2,7),max:Math.pow(2,7)-1},B:{en:t._EnInt,de:t._DeInt,len:1,bSigned:!1,min:0,max:Math.pow(2,8)-1},h:{en:t._EnInt,de:t._DeInt,len:2,bSigned:!0,min:-Math.pow(2,15),max:Math.pow(2,15)-1},H:{en:t._EnInt,de:t._DeInt,len:2,bSigned:!1,min:0,max:Math.pow(2,16)-1},i:{en:t._EnInt,de:t._DeInt,len:4,bSigned:!0,min:-Math.pow(2,31),max:Math.pow(2,31)-1},I:{en:t._EnInt,de:t._DeInt,len:4,bSigned:!1,min:0,max:Math.pow(2,32)-1},l:{en:t._EnInt,de:t._DeInt,len:4,bSigned:!0,min:-Math.pow(2,31),max:Math.pow(2,31)-1},L:{en:t._EnInt,de:t._DeInt,len:4,bSigned:!1,min:0,max:Math.pow(2,32)-1},f:{en:t._En754,de:t._De754,len:4,mLen:23,rt:Math.pow(2,-24)-Math.pow(2,-77)},d:{en:t._En754,de:t._De754,len:8,mLen:52,rt:0},q:{en:t._EnInt64,de:t._DeInt64,bSigned:!0},Q:{en:t._EnInt64,de:t._DeInt64,bSigned:!1}},t._UnpackSeries=function(e,t,a,r){for(var c=n.de,i=[],s=0;s<e;i.push(c(a,r+s*t)),s++);return i},t._PackSeries=function(e,t,a,r,c,i){for(var s=n.en,o=0;o<e;s(a,r+o*t,c[i+o]),o++);},t.Unpack=function(t,a,r){e="<"!=t.charAt(0),r=r||0;for(var c,i,s,o=new RegExp(this._sPattern,"g"),h=[];c=o.exec(t);){if(r+(i=null==c[1]||""==c[1]?1:parseInt(c[1]))*(s=this._lenLut[c[2]])>a.length)return;switch(c[2]){case"A":case"s":h.push(this._elLut[c[2]].de(a,r,i));break;case"c":case"b":case"B":case"h":case"H":case"i":case"I":case"l":case"L":case"f":case"d":case"q":case"Q":n=this._elLut[c[2]],h.push(this._UnpackSeries(i,s,a,r))}r+=i*s}return Array.prototype.concat.apply([],h)},t.PackTo=function(t,a,r,c){e="<"!=t.charAt(0);for(var i,s,o,h,_=new RegExp(this._sPattern,"g"),l=0;i=_.exec(t);){if(r+(s=null==i[1]||""==i[1]?1:parseInt(i[1]))*(o=this._lenLut[i[2]])>a.length)return!1;switch(i[2]){case"A":case"s":if(l+1>c.length)return!1;this._elLut[i[2]].en(a,r,s,c[l]),l+=1;break;case"c":case"b":case"B":case"h":case"H":case"i":case"I":case"l":case"L":case"f":case"d":case"q":case"Q":if(n=this._elLut[i[2]],l+s>c.length)return!1;this._PackSeries(s,o,a,r,c,l),l+=s;break;case"x":for(h=0;h<s;h++)a[r+h]=0}r+=s*o}return a},t.Pack=function(n,e){return this.PackTo(n,new Array(this.CalcLength(n)),0,e)},t.CalcLength=function(n){for(var e,t=new RegExp(this._sPattern,"g"),a=0;e=t.exec(n);)a+=(null==e[1]||""==e[1]?1:parseInt(e[1]))*this._lenLut[e[2]];return a}}export default new JSPack();
